<div class="modal-header">
    <h4 class="modal-title">{{title}}</h4>
</div>
<div class="modal-body" style="padding:20px 0 0px 0;overflow-y:auto;overflow-x:hidden;min-height:300px;">
    <div class="form-group form-group-sm  form-inline" style="margin-bottom:0;">
        <a href="javascript:;" class="file btn btn-primary">
            <i class="iconfont icon-tianjia-"></i>选择文件
            <input type="file" nv-file-select="" name="file" uploader="uploader" multiple />
        </a>
    </div>

    <div class="form-group form-group-sm">
        <div ng-if="selGroups" style="background:#f6f7fa;padding:10px;margin-bottom:10px;">当前所选群组：
            <span style="font-size:16px;" ng-repeat="n in selGroups">
                <span ng-if="$index > 0">、</span>{{n}}</span>
        </div>
        <div>
            <div class="row" style="margin-bottom:10px;">
                <!-- <div class="fl">上传进度</div>
				<div class="fl">
					<div class="progress" style="width:340px;border-radius:10px;margin:2px 10px 0 10px;background:#fff;border:1px solid #9f9f9f;">
						<div class="progress-bar" role="progressbar" ng-style="{ 'width': uploader.progress + '%' }">{{uploader.progress}} %</div>
					</div>
				</div> -->
                <!-- <div class="fl" style="margin-top:-5px;">
					<button type="button" class="btn btnBackground" ng-click="uploadAll()" ng-disabled="!uploader.getNotUploadedItems().length">
						上传全部
					</button>
					<button type="button" class="btn btnBackgroundNo" ng-click="uploader.cancelAll()" ng-disabled="!uploader.isUploading">
						取消全部
					</button>
					<button type="button" class="btn btnBackgroundNo" ng-click="uploader.clearQueue()" ng-disabled="!uploader.queue.length">
						清空队列
					</button>
				</div> -->
            </div>

        </div>
        <div style="max-height:300px;overflow:auto;">
            <table class="table row-border hover">
                <thead>
                    <tr>
                        <th>文件名称</th>
                        <th>上传后名称</th>

                        <th ng-show="uploader.isHTML5">文件大小</th>
                        <th ng-show="uploader.isHTML5">进度</th>

                        <!-- <th>上传状态</th> -->
                        <th>操作</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="item in uploader.queue">
                        <td style="padding-top:14px;">
                            <strong ng-if="item.file.name.length < 15">{{ item.file.name }}</strong>
                            <strong ng-if="item.file.name.length >= 15">{{ item.file.name.substr(0,15) + '...' }}</strong>
                            <!-- Image preview -->
                            <!--auto height-->
                            <!--<div ng-thumb="{ file: item.file, width: 100 }"></div>-->
                            <!--auto width-->
                            <div ng-show="uploader.isHTML5 && videofile_type.split(',').indexOf(item.file.type.split('/')[1]) == -1" class="upload_canvas"
                                ng-thumb="{ file: item._file, width: 100 }"></div>
                            <!--fixed width and height -->
                            <!--<div ng-thumb="{ file: item.file, width: 100, height: 100 }"></div>-->
                        </td>

                        <td style="padding-top:14px;">
                            <input type="text" ng-model="item.file.desc" class=" form-control-static" maxlength="20" placeholder="输入名称" style="border:1px solid #9f9f9f;border-radius:8px;"
                            />
                        </td>
                        <td style="padding-top:14px;" ng-show="uploader.isHTML5" nowrap>{{ item.file.size
                            <(1024*1024)?((item.file.size/1024|number:2)+ 'KB'):((item.file.size/1024/1024|number:2)+ 'MB') }}</td>


                                <td style="padding-top:14px;" class="text-center">
                                    <div ng-show="item.isReady || item.isUploading" class="progress" style="margin-bottom: 0;">
                                        <div class="progress-bar" role="progressbar" ng-style="{ 'width': item.progress + '%' }">{{item.progress}} %</div>
                                    </div>
                                    <span ng-show="item.isSuccess">
                                        <i class="fa fa-check"></i>
                                    </span>
                                    <span ng-show="item.isCancel">
                                        <i class="fa fa-ban"></i>
                                    </span>
                                    <span ng-show="item.isError">
                                        <i class="fa fa-times"></i>{{item.errorMsg}}</span>
                                </td>
                                <td nowrap>
                                    <button style="background:none;color:#9f9f9f;border:none;transform: rotate(180deg);
                                    -ms-transform: rotate(180deg);
                                    -moz-transform: rotate(180deg);
                                    -webkit-transform: rotate(180deg);
                                    -o-transform: rotate(180deg);" type="button" class="btn-xs paginate_button next" ng-click="item.upload()"
                                        ng-disabled="item.isReady || item.isUploading || item.isSuccess">
                                        <i style="font-size:24px;" class="iconfont icon-xialajiantou"></i>
                                    </button>
                                    <button style="background:none;color:#9f9f9f;border:none;font-size:24px;font-weight:700;" type="button" class="btn-xs" ng-click="item.remove()">
                                        <i class="fa fa-close"></i>
                                    </button>
                                </td>
                    </tr>
                </tbody>
            </table>
        </div>



    </div>
</div>
<div class="modal-footer">
    <button class="btn btn-success" type="button" ng-click="modalConfirmSubmit()">上传全部</button>
    <button class="btn btn-warning" type="button" ng-click="cancel()">取消</button>
</div>