<div class="page-wrap animated fadeInRight">
	<ul class="nav nav-tabs contentTabs">
		<li ui-sref="dashboard.terminalreport" ui-sref-active="active">
			<a>按企业查看</a>
		</li>
		<li ui-sref="dashboard.terminal" ui-sref-active="active">
			<a>按终端查看</a>
		</li>
	</ul>
	<div class="content-wrap">
		<div class="clearfix">
			<div class="selectWrap fl">
				<km-select options="opOptions" selected="sp.op" val="val" name="name" change="initPage"></km-select>
				<km-select options="terminalStatusOptions" selected="sp.status" val="val" name="name" change="initPage"></km-select>
				<km-select options="hasProgramOptions" selected="sp.hasProgram" val="val" name="name" change="initPage"></km-select>
			</div>
			<div class="fr">
				<div class="input-group serchWrap">
					<input type="text" class="form-control" ng-model="sp.search" placeholder="企业代码/企业名称">
					<span class="input-group-btn">
						<button type="button" class="btn btn-primary">
							<i type="button" ng-click="initPage" class="fa fa-search">
							</i>
						</button>
					</span>
				</div>
			</div>
		</div>
		<div class="table-wrapper">
			<table class="table table-striped table-hover dataTable" st-pipe="callServer" st-table="displayed">
				<thead>
					<tr>
						<th>
							<input ng-checked="ids.length == displayed.length && displayed.length != 0" ng-click="checkAll($event)" type="checkbox">
						</th>
						<th>终端编号</th>
						<th class="ellipsisTd">终端名称</th>
						<th ng-if="!stateParamsId">所属企业</th>
						<th>网络状态</th>
						<th>屏幕分辨率</th>
						<th>所属城市</th>
						<th>节目数量</th>
					</tr>
				</thead>

				<tbody ng-show="!isLoading">
					<tr ng-repeat="row in displayed">
						<td>
							<input ng-click="checkThis(row,$event)" ng-checked="ids.indexOf(row.id) != -1" type="checkbox">
						</td>
						<td class="tdClick" ng-click="details(row)">{{row.no}}</td>
						<td>{{row.name}}</td>
						<td ng-if="!stateParamsId">{{row.domain + '('+ row.domainName +')'}}</td>
						<td>
								<font ng-if="row.status == 2" class="txtGrey">离线</font>
								<font ng-if="row.status == 1" class="txtGreen">在线</font>
								<font ng-if="row.status == 3" class="txtRed">异常</font>
						</td>
						<td>{{row.resolution}}</td>
						<td>{{row.city_no | getCityName}}</td>
						<td class="tdClick" ng-click="showPrograms(row)">
							{{row.programCounts}}
						</td>
					</tr>
				</tbody>
				<tbody me-include html="{{tbodyTpl}}"></tbody>
				<tfoot ng-show="!isLoading" me-include html="{{tfooterTpl}}"></tfoot>
			</table>
		</div>
	</div>
</div>